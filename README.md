# Shape Completion (tensorflow)

This is the project for 3D **shape completion** with generative adversarial network.
~~TensorFlow implementation of [Image-to-Image Translation Using Conditional Adversarial Networks](https://arxiv.org/pdf/1611.07004v1.pdf) that learns a mapping from input images to output images.~~

Here are some results generated by the authors of paper:
# TO DO
* convert evaluation code from cpp to python


## Note
* truncation: 2.5 for evaluation, 3 for training 

## Setup
1. First 
2. Second 
  * Unorder list.
3. Third 1. sub order list 4. Forth
    You can proper subgraph 
    Subgraph 
* Unorder list
- Unorder list
+ Unorder list




## Experimental trial

Batch size | iteration (epoch) | performance
---        | ---               |---
100        | 0.5               | ? 

## Home page
- [This is the mmvc home page](https://wp.nyu.edu/mmvc "MMVC")
- Python with numpy
- NVIDIA GPU + CUDA 8.0 + CuDNNv5.1
- TensorFlow 0.11

## LOGO 
- ![NYU LOGO](https://github.com/gxdai/shapeCompletion/blob/develop/download.png "NYU LOGO")
```bash
git clone git@github.com:yenchenlin/pix2pix-tensorflow.git
cd pix2pix-tensorflow
```
- Download the dataset (script borrowed from [torch code](https://github.com/phillipi/pix2pix/blob/master/datasets/download_dataset.sh)):
## Code
```bash
source path
./run.sh
```
```python
python main.py
```
```bash
bash ./download_dataset.sh facades
```
- Train the model
```bash
python main.py --phase train
```
- Test the model:
```bash
python main.py --phase test
```
## Table

 GPU       | number        | Time  |
---|:------:|----:  
k40        | 2             | 2h    |
t100       |4              | 1h    | 
## Dataset Info 

| ID        | Name          | Num(orig) |  Num (downloaded) |
|-----------|:-------------:|----:      |---                |
|02691156   | airplane      |     4045  | 4045              |
|04379243   | table         | 8843      |   6000            |
|02958343   | car           | 7497      | 5949              |
|03001627   | chair         | 6778      | 6000              |
|04256520   | sofa          |  3173     | 3173              |
|02933112   | cabinet       | 1572      | 1572              |
|03636649   | lamp          | 2318      | 2318              |
|04530566   | watercraft    | 1939      | 1939              |
## Results
method                          | scans, 32 | scans, 128 | images, 32 | images, 128|
:---:                           | :---:     |:---:       |:---:       | :---:|
3D-gan + L1 loss(w dp)          | 0.696     | -          | 0.757      | -    |  
3D-gan + L1 loss(w/o dp)        | 0.671     | -          |  -         | -    |
epn-unet-class + synth          | 0.309     | 1.80       | 0.374      | 1.89 |
epn-unet + synth                | 0.310     | 1.82       | 0.379      | 1.91 |
epn-class + synth               | 0.371     | 1.92       | 0.483      | 2.16 |
epn + synth                     | 0.382     | 1.94       | 0.512      | 2.33 |
3d shapenet                     | -         | -          | 0.905      | 3.70 |
shapeRecon                      | -         | -          | 0.970      | 4.63 | 
Possion Surface                 | -         | -          | 1.91       | 8.46 |



More results on other datasets coming soon!

**Note**: To avoid the fast convergence of D (discriminator) network, G (generator) network is updated twice for each D network update, which differs from original paper but same as [DCGAN-tensorflow](https://github.com/carpedm20/DCGAN-tensorflow), which this project based on.

## Train
Code currently supports [CMP Facades](http://cmp.felk.cvut.cz/~tylecr1/facade/) dataset. To reproduce results presented above, it takes 200 epochs of training. Exact computing time depends on own hardware conditions.

## Test
Test the model on validation set of [CMP Facades](http://cmp.felk.cvut.cz/~tylecr1/facade/) dataset. It will generate synthesized images provided corresponding labels under directory `./test`.


## Acknowledgments
Code borrows heavily from [pix2pix](https://github.com/phillipi/pix2pix) and [DCGAN-tensorflow](https://github.com/carpedm20/DCGAN-tensorflow/blob/master/model.py). Thanks for their excellent work!
# shapeCompletion
